[
  {
    "path": "posts/2022-01-09-hawaii-albatross-tohoku-tsunami/",
    "title": "The Impact of the 2011 Tōhoku tsunami on albatross in Hawaii",
    "description": "A regression analysis of the impact of the 2011 Tōhoku tsunami on albatross populations in Hawaii",
    "author": [
      {
        "name": "Julia Parish",
        "url": "https://github.com/juliaparish"
      }
    ],
    "date": "2022-01-09",
    "categories": [
      "R",
      "GIS"
    ],
    "contents": "\n\nContents\nAnalysis Plan\n\n\nThe Hawaiian archipelago is home to thousands of albatross. The Northwestern Hawaiian islands, Papahanaumokuakea, are comprised of atoll, reefs, and pinnacles, where 95% of all Black-footed albatross and 99% of Laysan albatross nest.\nAnalysis Plan\nThis analysis will follow the specific steps outlined in Table 1 below:\n\n\nShow code\n\ndata.frame(\"Phase\" = c(1:7),\n           \"Description\" = c(\"Identify research question\",\n                             \"Collect data\",\n                             \"Describe data\",\n                             \"Visualize data\",\n                             \"Conduct regression analysis\",\n                             \"Interpret results\",\n                             \"Conclusion\")) %>% \n  kable(caption = \"Table 1: Analysis Plan Outline\") %>%\n  kable_paper(full_width = FALSE) %>%\n  kable_styling(latex_options = \"striped\",\n                font_size = 15) %>% \n  column_spec(1, bold = T) %>%\n  row_spec(0, bold = T, color = \"black\")\n\n\n\nTable 1: Table 1: Analysis Plan Outline\n\n\nPhase\n\n\nDescription\n\n\n1\n\n\nIdentify research question\n\n\n2\n\n\nCollect data\n\n\n3\n\n\nDescribe data\n\n\n4\n\n\nVisualize data\n\n\n5\n\n\nConduct regression analysis\n\n\n6\n\n\nInterpret results\n\n\n7\n\n\nConclusion\n\n\n\n\nShow code\n\n# unique(albie_band$iso_subdivision)\n# class(albie_band$year)\n\n\n\n\n\nShow code\n\n# convert database to sf element to create geom\nalbie_sf <- st_as_sf(albie_band, \n                       coords = c(\"lon_dd\",\"lat_dd\"), \n                       crs = 4326)\n\n\n\n\n\nShow code\n\n# bounding box for Hawaii\nhawaii <- c(-178, 18.5, -154, 28.9)\n\nhawaii_map <- get_map(hawaii,\n                      source = \"google\",\n                      maptype = \"satellite\")\n\n\n\n\n\nShow code\n\nnwhi_points <- data.frame(lon = c(-161.9, -164.11, -166.05, -167.99, -170.65, -171.68, -174, -175, -176.5, -177),\n                          lat = c(23.06, 22.84, 23.94, 24.99, 24.8, 25.81, 25.6, 26.2, 26.5, 28.8),\n                          name = c(\"Nihoa\", \"Mokumanamana\", \"Lalo\", \"Onunui\", \"Kamokuokamohoalii\", \"Kamole\", \"Kapou\", \"Manawai\", \"Kuaihelani\", \"Holaniku\"))\n\n\n\n\n\nShow code\n\nalbie_map <- ggmap(hawaii_map) +\n  geom_point(aes(x = lon_dd, y = lat_dd, color = species_name),\n             data = albie_band,\n             size = 0.5,\n             alpha = 0.25) +\n  scale_color_manual(name = \"Albatross species\",\n                     values = c(\"#9E7E8C\", \"#39ACB1\"),\n                     labels = c(\"Black-footed Albatross\", \"Laysan Albatross\"),\n                     guide = guide_legend(override.aes = list(size = 3, alpha = 1))) +\n  geom_label_repel(data = nwhi_points,\n                   aes(x = lon, y = lat, label = name),\n                   size = 2,\n                   vjust = 0.5,\n                   hjust = 0.9,\n                   alpha = 0.8) +\n  labs(title = \"Figure 1: Banded Albatross Species in the Hawaiian Archipelago\",\n        subtitle = \"1996 - 2021\",\n        x = \"Longitude\",\n        y = \"Latitude\") +\n  theme(legend.title = element_text(size=12, color = \"black\", face=\"bold\"),\n           legend.justification=c(0,1), \n           legend.position=c(0.74, 0.95),\n           legend.background = element_blank(),\n           legend.key = element_blank())\n\nalbie_map\n\n\n\n\n\n\nShow code\n\nggsave(here(\"images/fig1_albatross_map.png\"), plot = albie_map)\n\n\n\n\n\nShow code\n\nband_count <- albie_band %>% \n  group_by(species, year) %>% \n  summarise(total = sum(count))\n\n\n\n\n\nShow code\n\n#plot banding count data\n\nalbie_count_plot <- ggplot(band_count, aes(x = year, y = total, group = species)) +\n  geom_point(aes(color = species,\n                 shape = species)) +\n  geom_line(aes(color = species)) +\n  scale_color_manual(name = \"Albatross species\",\n                     values = c(\"#9E7E8C\", \"#39ACB1\"),\n                     labels = c(\"Black-footed Albatross (BFAL)\", \"Laysan Albatross (LAAL)\"),\n                     guide = guide_legend(override.aes = list(shape = c(19, 17)))) +\n  geom_vline(xintercept = 2011,\n             linetype = \"solid\",\n             color = \"goldenrod1\",\n             size = 2) +\n  guides(shape = FALSE) +\n  annotate(\"text\",\n           label = \"Tōhoku tsunami\",\n           x = 2014,\n           y = 4700,\n           color = \"black\",\n           size = 4) +\n  labs(title = \"Figure 2: Hawaii Albatross Count Based On Band Data\",\n       subtitle = \"Data source: USGS Bird Banding Lab\",\n       x = \"Year\",\n       y = \"Albatross Banded\",\n       color = \"Species\") +\n  theme_minimal() +\n  theme(legend.background = element_blank(),\n        legend.position = \"bottom\")  \n  \nalbie_count_plot\n\n\n\n\n\n\nShow code\n\nggsave(here(\"images/fig2_species_count_plot.png\"),\n       plot = albie_count_plot,\n       width = 6,\n       height = 4,\n       units = \"in\",\n       bg = \"white\",\n       dpi = \"print\")\n\n\n\n\n\nShow code\n\n# create new column for year pre-tsunami (0) and post(1), 2011 = post since the tsuanmi occurred before banding season began\nband_count <- band_count %>% \n  mutate(t_event = case_when(\n    year <= \"2010\" ~ \"0\",\n    year >= \"2011\" ~ \"1\")) \n\nband_count$t_event <- as.factor(band_count$t_event)\n\n\n\n\n\nShow code\n\n# create two band count dataframes based on species\nbfal_count <- split(band_count, band_count$species)[[1]]\nlaal_count <- split(band_count, band_count$species)[[2]]\n\n\n\n\n\nShow code\n\n# explore population data 1996 - 2021\n\nbfal_mean <- round(mean(bfal_count$total), 2)\nbfal_min <- round(min(bfal_count$total), 2)\nbfal_max <- round(max(bfal_count$total), 2)\n\nlaal_mean <- round(mean(laal_count$total), 2)\nlaal_min <- round(min(laal_count$total), 2)\nlaal_max <- round(max(laal_count$total), 2)\n\n\n\n\n\nShow code\n\n# table with mean, min, max for both albatross species\n\nbfal_pop_params <- bfal_count %>% \n  summarise(mean = mean(bfal_count$total),\n            med = median(bfal_count$total),\n            max = max(bfal_count$total))\n\nlaal_pop_params <- laal_count %>% \n  summarise(mean = mean(laal_count$total),\n            med = median(laal_count$total),\n            max = max(laal_count$total))\n\n\n\n\n\nShow code\n\n#combine the two population params data sets with bind_rows\n\npop_params_summary <- bind_rows(bfal_pop_params, laal_pop_params) \n\n\n\n\n\nShow code\n\npop_params_table <- knitr::kable(pop_params_summary,\n                                 digits = 0,\n                                 col.names = c('Albatross Species', 'Population Mean', 'Population Median', 'Population Max'),\n                                 align = \"lccc\",\n                                 caption = \"Table 2: Hawaii Albatross Population Summary 1996 - 2021\") %>%\n  kable_paper(full_width = FALSE) %>%\n  kable_styling(latex_options = \"striped\",\n                font_size = 15) %>% \n  column_spec(1, bold = T) %>%\n  row_spec(0, bold = T, color = \"black\") #%>% \n  # save_kable(here(\"images/pop_params.png\"))\n\npop_params_table \n\n\n\nTable 2: Table 2: Hawaii Albatross Population Summary 1996 - 2021\n\n\nAlbatross Species\n\n\nPopulation Mean\n\n\nPopulation Median\n\n\nPopulation Max\n\n\nBFAL\n\n\n2003\n\n\n2008\n\n\n4740\n\n\nLAAL\n\n\n1396\n\n\n902\n\n\n3447\n\n\n\n\nShow code\n\n# filter species by pre and post tsunami event\nbfal_pre <- bfal_count %>% \n  filter(year %in% c(2002:2010))\n\nbfal_post <- bfal_count %>% \n  filter(year %in% c(2011:2020))\n\nlaal_pre <- laal_count %>% \n  filter(year %in% c(2002:2010))\n\nlaal_post <- laal_count%>% \n  filter(year %in% c(2011:2020))\n\n\n\n\n\nShow code\n\n# mean population of species pre and post tsunami event\n\nmean_pre_bfal <- round(mean(bfal_pre$total), 2)\nmean_post_bfal <- round(mean(bfal_post$total), 2)\n\nmean_pre_laal <- round(mean(laal_pre$total), 2)\nmean_post_laal <- round(mean(laal_post$total), 2)\n\n\n\n\n\nShow code\n\npop_mean <- tibble(species = c(\"BFAL\", \"LAAL\"),\n                       mean_pre = c(mean_pre_bfal, mean_pre_laal),\n                       mean_post = c(mean_post_bfal, mean_post_laal))\n\npop_mean_table <- knitr::kable(pop_mean,\n                               col.names = c('Species', 'Pre_Pop_Mean', 'Post_Pop_Mean'),\n                               caption = \"Table 3: Hawaii Albatross Count Means Pre- & Post- Tōhoku Tsunami\") %>% \n  kable_classic(full_width = F, html_font = \"Cambria\") #%>% \n  #save_kable(file = \"albie_mean_pops.png\",\n             #zoom = 1.5)\n\npop_mean_table\n\n\n\nTable 3: Table 3: Hawaii Albatross Count Means Pre- & Post- Tōhoku Tsunami\n\n\nSpecies\n\n\nPre_Pop_Mean\n\n\nPost_Pop_Mean\n\n\nBFAL\n\n\n3627.11\n\n\n517.8\n\n\nLAAL\n\n\n2778.89\n\n\n455.9\n\n\n\n\nShow code\n\n# save mean population data \n#write.csv(pop_mean, file = file.choose(new = T))\n\n\n\n\n\nShow code\n\nbfal_qqplot <- ggplot(bfal_count) +\n  geom_qq(aes(sample = total),\n          color = \"#9E7E8C\",\n          size = 3) +\n  geom_qq_line(aes(sample = total),\n            color = \"grey\") +\n  xlab(\"Normal distribution quantiles\") +\n  ylab(\"Sample quantiles\") +\n  labs(title = \"Figure 3: Black-footed Albatross (BFAL) QQ Plot\") +\n  theme_minimal() +\n  theme(line = element_blank(),\n        panel.grid = element_blank(),\n        strip.text = element_blank(),\n        axis.text.x = element_text(size = 10),\n        axis.text.y = element_text(size = 10),\n        legend.position = \"none\")\nbfal_qqplot  \n\n\n\n\n\n\nShow code\n\nggsave(here(\"images/fig3_bfal_qqplot.png\"),\n       width = 4,\n       height = 4,\n       units = \"in\",\n       bg = \"white\",\n       dpi = \"print\")\n\n\n\n\n\nShow code\n\nlaal_qqplot <- ggplot(laal_count) +\n  geom_qq(aes(sample = total),\n          color = \"#39ACB1\",\n          shape = 17,\n          size = 3) +\n  geom_qq_line(aes(sample = total),\n            color = \"grey\") +\n  xlab(\"Normal distribution quantiles\") +\n  ylab(\"Sample quantiles\") +\n  labs(title = \"Figure 4: Laysan Albatross (LAAL) QQ Plot\") +\n  theme_minimal() +\n  theme(line = element_blank(),\n        panel.grid = element_blank(),\n        strip.text = element_blank(),\n        axis.text.x = element_text(size = 10),\n        axis.text.y = element_text(size = 10),\n        legend.position = \"none\")\nlaal_qqplot  \n\n\n\n\n\n\nShow code\n\nggsave(here(\"images/fig4_laal_qqplot.png\"),\n       width = 4,\n       height = 4,\n       units = \"in\",\n       bg = \"white\",\n       dpi = \"print\")\n\n\n\n\\[ \\text{Albatross count}_i = \\beta_0 + \\beta_1 \\text{tsunami event}  + \\varepsilon_i \\]\n\n\nShow code\n\npost_tsunami_simple_mod <- lm(total ~ t_event, data = band_count) %>%\n  summary()\n\n\n\n\n\nShow code\n\ntab_model(post_tsunami_simple_mod ,\n          pred.labels = c(\"Intercept (mean albatross count pre-tsunami)\", \"Avg. banded albatross count post-tsunami\"),\n          string.ci = \"Conf. Int (95%)\",\n          string.p = \"P-value\",\n          title = \"Table 4: Simple Linear Regression Model for Banded Albatross in Hawaii\",\n          digits = 4)\n\n\n\nTable 4: Simple Linear Regression Model for Banded Albatross in Hawaii\n\n\n \n\n\ntotal\n\n\nPredictors\n\n\nEstimates\n\n\nConf. Int (95%)\n\n\nP-value\n\n\nIntercept (mean albatross count pre-tsunami)\n\n\n2616.9667\n\n\n2274.2624 – 2959.6710\n\n\n<0.001\n\n\nAvg. banded albatross count post-tsunami\n\n\n-2169.0121\n\n\n-2695.8899 – -1642.1343\n\n\n<0.001\n\n\nObservations\n\n\n52\n\n\nR2 / R2 adjusted\n\n\n0.578 / 0.569\n\n\n\\[ \\text{Albatross count}_i = \\beta_0 + \\beta_1 \\text{tsunami event} + \\beta_2 \\text{albatross species} + \\beta_3\\text{tsunami event:species} + \\varepsilon_i \\]\n\n\nShow code\n\n# interaction\ninteraction_model <- lm(total ~ t_event + species + t_event:species, data = band_count) %>% \n  summary()\n\n\n\n\n\nShow code\n\ntab_model(interaction_model,\n          pred.labels = c(\"Intercept (mean BFAL count pre-tsunami)\", \"Mean BFAL count post-tsunami\", \"Mean LAAL count pre-tsunami\", \"Mean LAAL count compared to BFAL count post-tsunami\"),\n          string.ci = \"Conf. Int (95%)\",\n          string.p = \"P-value\",\n          title = \"Table 5: Multiple Linear Regression Model Results for Banded Albatross in Hawaii\",\n          digits = 4)\n\n\n\nTable 5: Multiple Linear Regression Model Results for Banded Albatross in Hawaii\n\n\n \n\n\ntotal\n\n\nPredictors\n\n\nEstimates\n\n\nConf. Int (95%)\n\n\nP-value\n\n\nIntercept (mean BFAL count pre-tsunami)\n\n\n3125.1333\n\n\n2676.1144 – 3574.1523\n\n\n<0.001\n\n\nMean BFAL count post-tsunami\n\n\n-2653.4061\n\n\n-3343.7333 – -1963.0788\n\n\n<0.001\n\n\nMean LAAL count pre-tsunami\n\n\n-1016.3333\n\n\n-1651.3420 – -381.3246\n\n\n0.002\n\n\nMean LAAL count compared to BFAL count post-tsunami\n\n\n968.7879\n\n\n-7.4823 – 1945.0580\n\n\n0.052\n\n\nObservations\n\n\n52\n\n\nR2 / R2 adjusted\n\n\n0.653 / 0.631\n\n\n\n\n\n",
    "preview": "posts/2022-01-09-hawaii-albatross-tohoku-tsunami/images/laal.jpg",
    "last_modified": "2022-01-09T20:12:27-08:00",
    "input_file": "hi_albatross_tokohu_tsunami.knit.md"
  },
  {
    "path": "posts/2021-08-20-santa-catalina-island/",
    "title": "Santa Catalina Island",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Julia Parish",
        "url": {}
      }
    ],
    "date": "2021-08-20",
    "categories": [],
    "contents": "\r\nDistill is a publication format for scientific and technical writing, native to the web.\r\nLearn more about using Distill at https://rstudio.github.io/distill.\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-08-20T15:51:57-07:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-08-10-holaniku/",
    "title": "Holaniku",
    "description": "An introduction to a remote atoll that I once called home",
    "author": [
      {
        "name": "Julia Parish",
        "url": "https://github.com/juliaparish"
      }
    ],
    "date": "2021-08-10",
    "categories": [
      "distill",
      "R"
    ],
    "contents": "\r\nHolaniku is known as the Kure Atoll state wildlife sanctuary, and is located 1400 miles (2300 km) northwest of Honolulu, Hawaii at 28° 25’N latitude and 178° 20’ W longitude. The sanctuary is managed by the State of Hawaii Division of Land and Natural Resources (DLNR) Division of Forestry and Wildlife (DOFAW) and is a part of the Papahanaumokuakea Marine National Monument (PMNM) created in 2006. In 1978, Holaniku was included in the Hawaii State Seabird Sanctuary system.\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-08-10-holaniku/images/Holaniku.jpg",
    "last_modified": "2021-09-29T14:00:09-07:00",
    "input_file": {}
  }
]
